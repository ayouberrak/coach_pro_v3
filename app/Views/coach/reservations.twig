{% extends "layouts/base.twig" %}

{% block title %}Mes Réservations - CoachPro{% endblock %}

{% block body %}
<div class="max-w-6xl mx-auto space-y-8 animate-fade-in pb-20">

    <div class="flex flex-col lg:flex-row lg:items-end justify-between gap-6 border-b border-borderGray/30 pb-8">
        <div>
            <h1 class="text-3xl font-bold tracking-tight text-white">Historique des <span class="text-primaryGold">Séances</span></h1>
            <p class="text-gray-500 mt-1 font-medium">Consultez l'état de vos réservations passées et futures.</p>
        </div>
        
        <div class="flex p-1 bg-darkCard border border-borderGray rounded-2xl w-fit shadow-2xl">
            <button onclick="filterReservations('all')" class="tab-btn active-tab px-5 py-2.5 rounded-xl text-[11px] font-black uppercase tracking-widest transition-all">Toutes</button>
            <button onclick="filterReservations('en-attente')" class="tab-btn px-5 py-2.5 rounded-xl text-[11px] font-black uppercase tracking-widest text-gray-500 hover:text-white transition-all">En attente</button>
            <button onclick="filterReservations('acceptee')" class="tab-btn px-5 py-2.5 rounded-xl text-[11px] font-black uppercase tracking-widest text-gray-500 hover:text-white transition-all">Acceptées</button>
            <button onclick="filterReservations('refusee')" class="tab-btn px-5 py-2.5 rounded-xl text-[11px] font-black uppercase tracking-widest text-gray-500 hover:text-white transition-all">Refusées</button>
            <button onclick="filterReservations('terminee')" class="tab-btn px-5 py-2.5 rounded-xl text-[11px] font-black uppercase tracking-widest text-gray-500 hover:text-white transition-all">Terminées</button>
        </div>
    </div>

    <div id="reservations-list" class="grid grid-cols-1 gap-4">
        
        <div class="res-item en-attente bg-darkCard border border-borderGray rounded-[2rem] p-6 group transition-all">
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-6">
                <div class="flex items-center gap-6">
                    <div class="w-14 h-14 rounded-2xl bg-orange-500/10 border border-orange-500/20 flex flex-col items-center justify-center text-orange-500 shadow-[0_0_15px_rgba(249,115,22,0.1)]">
                        <span class="text-[9px] font-black uppercase">JAN</span>
                        <span class="text-lg font-black tracking-tighter">22</span>
                    </div>
                    <div>
                        <h3 class="text-lg font-bold text-white tracking-tight">Anas Mansouri</h3>
                        <div class="flex items-center gap-3 mt-1">
                            <span class="text-xs text-gray-500 font-medium tracking-tight italic">Boxe Anglaise • 14:00</span>
                            <span class="w-1 h-1 rounded-full bg-gray-700"></span>
                            <span class="text-[9px] font-black text-orange-500 uppercase tracking-widest">En attente de validation</span>
                        </div>
                    </div>
                </div>
                <div class="flex items-center gap-2 text-gray-600 italic text-xs border-l border-borderGray/30 pl-6">
                    <i class="fa-solid fa-hourglass-start animate-spin-slow"></i>
                    <span>Action requise sur le Dashboard</span>
                </div>
            </div>
        </div>

        <div class="res-item acceptee bg-darkCard border border-green-500/20 rounded-[2rem] p-6 transition-all">
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-6">
                <div class="flex items-center gap-6">
                    <div class="w-14 h-14 rounded-2xl bg-green-500/10 border border-green-500/20 flex flex-col items-center justify-center text-green-500">
                        <span class="text-[9px] font-black uppercase">JAN</span>
                        <span class="text-lg font-black tracking-tighter">25</span>
                    </div>
                    <div>
                        <h3 class="text-lg font-bold text-white tracking-tight">Meryem Bennani</h3>
                        <div class="flex items-center gap-3 mt-1">
                            <span class="text-xs text-gray-400 font-medium">Pilates • 09:30</span>
                            <span class="w-1 h-1 rounded-full bg-green-500"></span>
                            <span class="text-[9px] font-black text-green-500 uppercase tracking-widest">Confirmée</span>
                        </div>
                    </div>
                </div>
                <div class="bg-green-500/5 px-4 py-2 rounded-xl border border-green-500/10">
                    <p class="text-[10px] font-bold text-green-600 uppercase tracking-tighter">Séance programmée</p>
                </div>
            </div>
        </div>

        <div class="res-item refusee bg-darkCard/50 border border-red-500/10 rounded-[2rem] p-6 opacity-60">
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-6">
                <div class="flex items-center gap-6">
                    <div class="w-14 h-14 rounded-2xl bg-red-500/5 border border-red-500/10 flex flex-col items-center justify-center text-red-500/40">
                        <span class="text-[9px] font-black uppercase">JAN</span>
                        <span class="text-lg font-black tracking-tighter">12</span>
                    </div>
                    <div>
                        <h3 class="text-lg font-bold text-gray-500 line-through">Omar Sadiki</h3>
                        <p class="text-[9px] font-black text-red-500/60 uppercase tracking-widest mt-1">Demande déclinée</p>
                    </div>
                </div>
                <span class="text-[10px] text-gray-600 font-medium italic">Indisponible</span>
            </div>
        </div>

        <div class="res-item terminee bg-darkCard/20 border border-borderGray/30 rounded-[2rem] p-6 grayscale">
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-6">
                <div class="flex items-center gap-6">
                    <div class="w-14 h-14 rounded-2xl bg-white/5 border border-white/10 flex flex-col items-center justify-center text-gray-500">
                        <span class="text-[9px] font-black uppercase">JAN</span>
                        <span class="text-lg font-black tracking-tighter">05</span>
                    </div>
                    <div>
                        <h3 class="text-lg font-bold text-gray-600">Sami Alami</h3>
                        <p class="text-[10px] text-gray-700 font-bold uppercase tracking-widest mt-1">Effectuée le 05 Jan</p>
                    </div>
                </div>
                <div class="flex items-center gap-1 text-primaryGold/40">
                    <i class="fa-solid fa-star text-[10px]"></i>
                    <i class="fa-solid fa-star text-[10px]"></i>
                    <i class="fa-solid fa-star text-[10px]"></i>
                    <i class="fa-solid fa-star text-[10px]"></i>
                    <i class="fa-solid fa-star text-[10px]"></i>
                </div>
            </div>
        </div>

    </div>
</div>

<style>
    .active-tab { background-color: #cfaa58 !important; color: #18191e !important; box-shadow: 0 4px 15px rgba(207, 170, 88, 0.2); }
    .hidden-res { display: none !important; }
    .animate-spin-slow { animation: spin 3s linear infinite; }
    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
</style>

<script>
    function filterReservations(filter) {
        const buttons = document.querySelectorAll('.tab-btn');
        buttons.forEach(btn => btn.classList.remove('active-tab'));
        event.target.classList.add('active-tab');

        const items = document.querySelectorAll('.res-item');
        items.forEach(item => {
            if (filter === 'all') {
                item.classList.remove('hidden-res');
            } else {
                item.classList.toggle('hidden-res', !item.classList.contains(filter));
            }
        });
    }
</script>
{% endblock %}